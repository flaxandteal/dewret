#!/usr/bin/env cwl-runner
cwlVersion: v1.2
class: CommandLineTool

requirements:
  InlineJavascriptRequirement: {}
  EnvVarRequirement:
    envDef:
      envName: DEWRET_EXECUTION_TIME
      envValue: "1"

baseCommand: [python, -c]

arguments:
  - |
    import sys
    def my_task(input_value):
        return f"Processed: {input_value}"
    
    if __name__ == "__main__":
        input_value = sys.argv[1]
        result = my_task(input_value)
        print(result)

inputs:
  input:
    type: string
    inputBinding:
      position: 1

outputs:
  out:
    type: string
    outputBinding:
      glob: "output.txt"
      loadContents: true
      outputEval: $(self[0].contents.trim())

stdout: output.txt
